{"version":3,"sources":["utils/api.js","contexts/CurrentUserContext.js","images/white-logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","hooks/useCustomForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/InfoTooltip.js","components/MainPageForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","all","getInitialProfile","getInitialCards","jwt","fetch","method","authorization","then","_responseHandler","data","body","JSON","stringify","name","link","id","isLiked","profile","about","obj","avatar","CurrentUserContext","React","createContext","Header","props","location","useLocation","useState","isMenuOpen","setIsMenuOpen","undefined","windowWidth","setWindowWidth","handleClick","useEffect","handleResize","window","innerWidth","addEventListener","removeEventListener","className","loggedIn","src","headerLogo","alt","onClick","userEmail","pathname","to","logOut","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onImgClick","String","type","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","isCardsLoading","cards","map","Footer","today","Date","getFullYear","ImagePopup","isOpen","onClose","PopupWithForm","noValidate","onSubmit","title","children","isDisabled","btnText","useCustomFormAndValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","EditProfilePopup","isUserSaving","preventDefault","onUpdateUser","placeholder","onChange","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","isPlaceAdding","e","DeleteCardPopup","isCardDeleting","handleSubmit","InfoTooltip","message","MainPageForm","text","linkText","Login","handleLogin","pattern","email","password","Register","handleRegister","ProtectedRoute","Component","component","BASE_URL","App","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupState","isAddPlacePopupOpen","setAddPlacePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isCardPopupOpen","setCardSPopupState","isDelCardPopupOpen","setIsDelCardPopupOpen","setIsCardsLoading","setIsUserSaving","setIsCardDeleting","setIsPlaceAdding","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setLoggedIn","selectedCard","setSelectedCard","setCurrentUser","setCards","cardToDel","setCardToDel","tooltipMessage","setTooltipMessage","tooltipType","setTooltipType","currentUserEmail","setCurrentUserEmail","handleOverlayClick","currentTarget","closeAllPopups","handleTooltipOpen","localStorage","getItem","catch","error","alert","finally","handleEscClose","key","document","handleTokenCheck","token","push","Provider","removeItem","path","onTooltipOpen","err","console","log","setItem","changeLikeCardStatus","newCard","newCards","c","setProfile","setProfileAvatar","addCard","delCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.716f2a80.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _responseHandler(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error happen: ${res.status}`);\r\n  }\r\n\r\n  getInitialData() {\r\n    return Promise.all([this.getInitialProfile(), this.getInitialCards()]);\r\n  }\r\n\r\n  getInitialCards(jwt) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      }\r\n    })\r\n      .then(this._responseHandler);\r\n  }\r\n\r\n  getInitialProfile(jwt) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      }\r\n    })\r\n      .then(this._responseHandler);\r\n  }\r\n\r\n  addCard(data, jwt) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      }),\r\n    })\r\n      .then(this._responseHandler);\r\n  }\r\n\r\n  delCard(id, jwt) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then((this._responseHandler));\r\n  }\r\n\r\n  // addLike(id) {\r\n  //   return fetch(`${this._url}cards/likes/${id}`, {\r\n  //     method: 'PUT',\r\n  //     headers: this._headers,\r\n  //   })\r\n  //   .then(this._responseHandler);\r\n  // }\r\n\r\n  // delLike(id, jwt) {\r\n  //   return fetch(`${this._url}cards/likes/${id}`, {\r\n  //     method: 'DELETE',\r\n  //     headers: this._headers,\r\n  //   })\r\n  //   .then(this._responseHandler);\r\n  // }\r\n\r\n  changeLikeCardStatus(id, isLiked, jwt) {\r\n    const method = isLiked ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method,\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then(this._responseHandler);\r\n  }\r\n\r\n  setProfile(profile, jwt) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: profile.name,\r\n        about: profile.about,\r\n      }),\r\n    }).then(this._responseHandler);\r\n  }\r\n\r\n  setProfileAvatar(obj, jwt) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `Bearer ${jwt}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: obj.avatar,\r\n      }),\r\n    })\r\n      .then(this._responseHandler);\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  // url: 'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n  url: 'http://api.kolenhen.students.nomoredomains.icu',\r\n  //  headers: {\r\n  //    uthorization: 'cbe4503b-5ebe-4451-a159-203687412eb7',\r\n  //   'Content-Type': 'application/json',\r\n  // },\r\n});\r\n\r\nexport default api;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","export default __webpack_public_path__ + \"static/media/white-logo.c2821b38.svg\";","import React, { useState, useEffect } from 'react';\r\nimport headerLogo from '../images/white-logo.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  let location = useLocation();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(true);\r\n  const [windowWidth, setWindowWidth] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  function handleClick() {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n\r\n  return (\r\n    <header className={`header ${props.loggedIn && windowWidth < 540 ? \"header__loggedin-mob\" : \"\"}`}>\r\n      <div className=\"header__wrap header__wrap_logo\">\r\n        <img src={headerLogo} className=\"header__logo\" alt=\"Логотип\" />\r\n        {props.loggedIn && (isMenuOpen ? (<button onClick={handleClick} className='header__menu header__menu_bar'>&#9776;</button>) :\r\n         ( <button onClick={handleClick} className='header__menu header__menu_close'>&#9587;</button>))}\r\n      </div>\r\n      <div className={`header__wrap ${props.loggedIn && windowWidth < 540 ? \"header__wrap_loggedin-mob\" : \"\"} header__wrap_email \r\n      ${props.loggedIn && windowWidth < 540 && (!isMenuOpen ? \"\" : \"header__wrap_hide\")}`} >\r\n        {props.loggedIn && (<p className=\"header__email\">{props.userEmail}</p>)}\r\n        {!props.loggedIn && location.pathname === \"/sign-up\" &&\r\n          (<Link to=\"/sign-in\" className=\"header__link\">Войти</Link>)\r\n        }\r\n        {!props.loggedIn && location.pathname === \"/sign-in\" &&\r\n          (<Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>)\r\n        }\r\n        {props.loggedIn &&\r\n         ( <Link to=\"/sign-in\" onClick={props.logOut} className=\"header__link\">Выйти</Link>)\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `location__trash ${isOwn ? 'location__trash_visible' : 'location__trash_invisible'}`\r\n    );\r\n\r\n    const cardLikeButtonClassName = (\r\n        `location__rate ${isLiked ? 'location__rate_marked' : ''}`\r\n    );\r\n\r\n    function handleImgClick() {\r\n        props.onImgClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"location\">\r\n            <img\r\n                onClick={handleImgClick}            \r\n                src={String(props.card.link)}\r\n                alt={`Фото ${props.card.name}`}\r\n                className=\"location__image\" />\r\n            <button\r\n                type=\"button\"\r\n                onClick={handleDeleteClick}\r\n                className={cardDeleteButtonClassName}>\r\n            </button>\r\n            <div className=\"location__info\">\r\n                <h2 className=\"location__name\">\r\n                    {props.card.name}\r\n                </h2>\r\n                <div className=\"location__wrap\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={handleLikeClick}\r\n                        className={cardLikeButtonClassName}>\r\n                    </button>\r\n                    <span className=\"location__likes\">{props.card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n\r\n//https://images.unsplash.com/photo-1602112711460-9431b0cb6d25?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1868&q=80","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\" id=\"profile\">\r\n        <div className=\"profile__overlay\">\r\n          <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\r\n          <button className=\"profile__edit-avatar\" onClick={props.onEditAvatar}>\r\n            &#128393;\r\n              </button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__text\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__role\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__edit-info\" onClick={props.onEditProfile}>\r\n            &#128393;\r\n              </button>\r\n        </div>\r\n        <button className=\"profile__add\" onClick={props.onAddPlace}>\r\n          &#65291;\r\n            </button>\r\n      </section>\r\n      <section className=\"locations\">\r\n        {props.isCardsLoading ? (\r\n          <p className=\"locations__loading\">Загрузка...</p>)\r\n          : props.cards.map(card =>\r\n          (<Card\r\n            key={card._id}\r\n            card={card}\r\n            onImgClick={props.onImgClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />)\r\n          )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    const today = new Date();\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy;2020 - {today.getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n// popup_type_${props.name} \r\n    return (\r\n        <div onClick = {props.onClick} className={`popup ${props.isOpen && props.card && 'popup_opened'}`}>\r\n            <div className=\"popup__container popup__container_image\">\r\n                <button onClick={props.onClose} type=\"button\" className=\"popup__close popup__close_image\">&#9587;</button>\r\n                <img src={String(props.card.link)} alt={`Фото ${props.card.name}`} className=\"popup__image\" />\r\n                <p className=\"popup__caption\">{props.card.name}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <div onClick={props.onClick} className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <form\r\n                name={props.name}\r\n                noValidate\r\n                className={`popup__container popup__form popup__container_type_${props.name}`}\r\n                onSubmit={props.onSubmit}\r\n            >\r\n                <button\r\n                    onClick={props.onClose}\r\n                    type=\"button\"\r\n                    className={`popup__close popup__close_profile-${props.name}`}>&#9587;</button>\r\n                <h2 className=\"popup__title\">\r\n                    {props.title}\r\n                </h2>\r\n                {props.children}\r\n                <button type=\"submit\" className={`popup__btn popup__btn_type_${props.name} ${props.isDisabled && 'popup__btn_disabled'}`} >{props.btnText}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import { useCallback, useState } from 'react';\r\n\r\nexport function useCustomForm (){\r\n    const [values, setValues] = useState({});\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setValues({...values, [name]: value});\r\n    }\r\n\r\n    return {values, handleChange, setValues};\r\n}\r\n\r\nexport function useCustomFormAndValidation (){\r\n    const [values, setValues] = useState({});\r\n    const [errors, setErrors] = useState({});\r\n    const [isValid, setIsValid] = useState({});\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setValues({...values, [name]: value});\r\n        setErrors({...errors, [name]: target.validationMessage});\r\n        setIsValid(target.closest('form').checkValidity());\r\n    }\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n            setValues(newValues);\r\n            setErrors(newErrors);\r\n            setIsValid(newIsValid);\r\n        },[setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    return {values, handleChange, errors, isValid, resetForm};\r\n}","import React, { useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useCustomFormAndValidation } from '../hooks/useCustomForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const { values, handleChange, errors, isValid, resetForm } = useCustomFormAndValidation();\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm(currentUser);\r\n    }\r\n  }, [currentUser, resetForm]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser(values);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      btnText={props.isUserSaving ? \"Сохранение...\" : \"Сохранить\"}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isDisabled={!isValid}\r\n      onClick={props.onClick}\r\n    >\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name-input\"\r\n          name=\"name\"\r\n          value={values.name || ''}\r\n          placeholder=\"Имя\"\r\n          onChange={handleChange}\r\n          className=\"popup__text popup__text_type_name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\" />\r\n        <span id=\"name-input-error\" className=\"popup__text-error\">{errors.name || ''}</span>\r\n        <input\r\n          type=\"text\"\r\n          id=\"role-input\"\r\n          name=\"about\"\r\n          onChange={handleChange}\r\n          placeholder=\"Деятельность\"\r\n          className=\"popup__text popup__text_type_role\"\r\n          value={values.about || \"\"}\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\" />\r\n        <span id=\"role-input-error\" className=\"popup__text-error\">{errors.about || ''}</span>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useCustomFormAndValidation } from '../hooks/useCustomForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const { values, handleChange, errors, isValid, resetForm } = useCustomFormAndValidation();\r\n\r\n    useEffect(() => {\r\n        resetForm();\r\n    }, [props.isOpen, resetForm])\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        props.onUpdateAvatar(values);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"renew\"\r\n            title=\"Обновить аватар\"\r\n            btnText=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!isValid}\r\n            onClick={props.onClick}\r\n        >\r\n            <>\r\n                <input\r\n                    type=\"url\"\r\n                    id=\"avatar-ref-input\"\r\n                    name=\"avatar\"\r\n                    placeholder=\"Ссылка на новый аватар\"\r\n                    required\r\n                    className=\"popup__text popup__text_type_ref\"\r\n                    value={values.avatar || ''}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"avatar-ref-input-error\" className=\"popup__text-error\">{errors.avatar || ''}</span>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useCustomFormAndValidation } from '../hooks/useCustomForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const { values, handleChange, errors, isValid, resetForm } = useCustomFormAndValidation();\r\n\r\n    useEffect(() => {\r\n        resetForm()\r\n    }, [props.isOpen, resetForm])\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace(values);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            title=\"Новое место\"\r\n            btnText={props.isPlaceAdding ? \"Создается...\" : \"Создать\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!isValid}\r\n            onClick={props.onClick}\r\n        >\r\n            <>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"location-name-input\"\r\n                    name=\"name\"\r\n                    placeholder=\"Название\"\r\n                    required\r\n                    minLength=\"1\"\r\n                    maxLength=\"30\"\r\n                    className=\"popup__text popup__text_type_location-name\"\r\n                    value={values.name || ''}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"location-name-input-error\"\r\n                    className=\"popup__text-error\">{errors.name || ''}</span>\r\n                <input\r\n                    type=\"url\"\r\n                    id=\"location-ref-input\"\r\n                    name=\"link\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    required\r\n                    className=\"popup__text popup__text_type_ref\"\r\n                    value={values.link || ''}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"location-ref-input-error\" className=\"popup__text-error\">{errors.link || ''}</span>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction DeleteCardPopup(props) {\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"cardDel\"\r\n            title=\"Вы уверены?\"\r\n            btnText={props.isCardDeleting ? \"Удаление...\" : \"Да\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={props.handleSubmit}\r\n            onClick = {props.onClick}\r\n        >\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DeleteCardPopup;","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <div onClick={props.onClick} className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n                <div className=\"popup__container popup__container_tooltip\">\r\n                    <button onClick={props.onClose} type=\"button\" className=\"popup__close popup__close_image\">&#9587;</button>\r\n                    <span className={`popup__info popup__info_${props.type}`}></span>\r\n                    <h2 className=\"popup__title popup__title_center\">{props.message}</h2>\r\n                </div>\r\n          \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction MainPageForm(props) {\r\n    return (\r\n        <form\r\n            onSubmit={props.onSubmit}\r\n            className={`form-auth ${props.name}-auth__login`}>\r\n            <h2 className=\"form-auth__title\">\r\n                {props.title}\r\n            </h2>\r\n            {props.children}\r\n            <button\r\n                type=\"submit\"\r\n                className={`form-auth__btn form-auth__btn_type_${props.name} ${props.isDisabled && 'form-auth__btn_disabled'}`} >\r\n                {props.btnText}\r\n            </button>\r\n            <p className=\"form-auth__text\">{props.text} <Link className=\"form-auth__link\" to=\"/sign-in\">{props.linkText}</Link></p>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default MainPageForm;","import React from 'react';\r\nimport MainPageForm from './MainPageForm';\r\nimport { useCustomFormAndValidation } from '../hooks/useCustomForm';\r\n\r\nfunction Login(props) {\r\n    const { values, handleChange, errors, isValid, resetForm } = useCustomFormAndValidation();\r\n    \r\n    function handleSubmit(event){\r\n        event.preventDefault();\r\n        props.handleLogin(values);\r\n        resetForm();\r\n        }\r\n\r\n\r\n    // React.useEffect(() => {\r\n    //     resetForm();\r\n    // }, [])\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <MainPageForm\r\n                className={'login'}\r\n                title=\"Вход\"\r\n                btnText=\"Войти\"\r\n                onSubmit={handleSubmit}\r\n                isDisabled={isValid}\r\n            >\r\n                <>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n                        name=\"email\"\r\n                        value={values.email || ''}\r\n                        placeholder=\"Email\"\r\n                        onChange={handleChange}\r\n                        className=\"form-auth__input form-auth__input_type_email\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"70\" />\r\n                    <span id=\"email-input-error\" className=\"form-auth__input-error\">{errors.email || ''}</span>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"pass\"\r\n                        name=\"password\"\r\n                        onChange={handleChange}\r\n                        placeholder=\"Пароль\"\r\n                        className=\"form-auth__input form-auth__input_type_password\"\r\n                        value={values.password || \"\"}\r\n                        required\r\n                        minLength=\"5\"\r\n                        maxLength=\"20\" />\r\n                    <span id=\"password-input-error\" className=\"form-auth__input-error\">{errors.password || ''}</span>\r\n                </>\r\n            </MainPageForm>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport MainPageForm from './MainPageForm';\r\nimport { useCustomFormAndValidation } from '../hooks/useCustomForm';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n    const { values, handleChange, errors, isValid, resetForm } = useCustomFormAndValidation();\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        props.handleRegister(values, resetForm);        \r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <MainPageForm\r\n                className={'register'}\r\n                title=\"Регистрация\"\r\n                btnText=\"Зарегистрироваться\"\r\n                onSubmit={handleSubmit}\r\n                isDisabled={isValid}\r\n                text=\"Уже зарегистрированы?\"\r\n                linkText='Войти'\r\n            >\r\n                <>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n                        name=\"email\"\r\n                        value={values.email || ''}\r\n                        placeholder=\"Email\"\r\n                        onChange={handleChange}\r\n                        className=\"form-auth__input form-auth__input_type_email\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"70\" />\r\n                    <span id=\"email-input-error\" className=\"form-auth__input-error\">{errors.email || ''}</span>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"pass\"\r\n                        name=\"password\"\r\n                        onChange={handleChange}\r\n                        placeholder=\"Пароль\"\r\n                        className=\"form-auth__input form-auth__input_type_password\"\r\n                        value={values.password || \"\"}\r\n                        required\r\n                        minLength=\"5\"\r\n                        maxLength=\"20\" />\r\n                    <span id=\"password-input-error\" className=\"form-auth__input-error\">{errors.password || ''}</span>\r\n                </>\r\n            </MainPageForm>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n    \r\n    return(\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component{...props}/> : <Redirect to=\"/sign-in\"></Redirect>\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n\r\n","// export const BASE_URL = \"https://auth.nomoreparties.co\";\r\nexport const BASE_URL = \"http://api.kolenhen.students.nomoredomains.icu\";\r\nexport const register = (data) => {\r\n\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            email: data.email,\r\n            password: data.password\r\n        })\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n                return res.json();                \r\n            }\r\n            return Promise.reject(`Error: ${res.status}`);\r\n        })\r\n        .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (data) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            email: data.email,\r\n            password: data.password\r\n        })\r\n    })\r\n        .then((res) => {\r\n            return res.json();\r\n        })\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('jwt', data.token);\r\n                return data;\r\n            }\r\n        })\r\n        .catch((err) => console.log(err));\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n  }","import React, { useEffect, useState, useCallback } from 'react';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport { checkToken } from '../utils/auth';\nimport * as auth from '../utils/auth.js';\n\n\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupState] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = useState(false);\n  const [isCardPopupOpen, setCardSPopupState] = useState(false);\n  const [isDelCardPopupOpen, setIsDelCardPopupOpen] = useState(false);\n  const [isCardsLoading, setIsCardsLoading] = useState(false);\n  const [isUserSaving, setIsUserSaving] = useState(false);\n  const [isCardDeleting, setIsCardDeleting] = useState(false);\n  const [isPlaceAdding, setIsPlaceAdding] = useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [cardToDel, setCardToDel] = useState({});\n  const [tooltipMessage, setTooltipMessage] = useState('');\n  const [tooltipType, setTooltipType] = useState('');\n  const [currentUserEmail, setCurrentUserEmail] = useState('');\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    setIsCardsLoading(true);\n    api.getInitialCards(jwt)\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((error) => { alert(error) })\n      .finally(() => {\n        setIsCardsLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    api.getInitialProfile(jwt)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((error) => { alert(error) });\n  }, []);\n\n  // popup closing by ESC\n  useEffect(() => {\n    function handleEscClose(event) {\n      if (event.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    }\n  }, []);\n\n  // popup closing by overlay\n  function handleOverlayClick(event) {\n    if (event.target === event.currentTarget) {\n      closeAllPopups();\n    }\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupState(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupState(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupState(!isAddPlacePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setCardSPopupState(!isCardPopupOpen);\n    setSelectedCard(card);\n  }\n\n  function handleCardDeleteReq(card) {\n    setCardToDel(card);\n    setIsDelCardPopupOpen(!isDelCardPopupOpen);\n  }\n\n  function handleTooltipOpen() {\n    setIsInfoTooltipPopupOpen(!isInfoTooltipPopupOpen);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupState(false);\n    setAddPlacePopupState(false);\n    setEditAvatarPopupState(false);\n    setCardSPopupState(false);\n    setIsDelCardPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(data) {\n    const jwt = localStorage.getItem('jwt');\n    setIsUserSaving(true);\n    api.setProfile(data, jwt)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((error) => { alert(error) })\n      .finally(() => {\n        setIsUserSaving(false);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    const jwt = localStorage.getItem('jwt');\n    api.setProfileAvatar(data, jwt)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((error) => { alert(error) });\n  }\n\n  function handleCardLike(card) {\n    const jwt = localStorage.getItem('jwt');\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked, jwt)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => { alert(error) });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    const jwt = localStorage.getItem('jwt');\n    setIsPlaceAdding(true);\n    api.addCard(data, jwt)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => { alert(error) })\n      .finally(() => {\n        setIsPlaceAdding(false);\n      });\n  }\n\n  function handleCardDelete(event) {\n    event.preventDefault();\n    const jwt = localStorage.getItem('jwt');\n    setIsCardDeleting(true);\n    api.delCard(cardToDel._id, jwt)\n      .then(() => {\n        const newCards = cards.filter((c) => c !== cardToDel);\n        setCards(newCards);\n        setIsDelCardPopupOpen(false);\n      })\n      .catch((error) => { alert(error) })\n      .finally(() => {\n        setIsCardDeleting(false);\n      });\n  }\n\n  function handleLogOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n  }\n\n  const handleTokenCheck = useCallback(() => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        checkToken(jwt)\n          .then((res) => {\n            if (res) {\n              setCurrentUserEmail(res.data.email);\n              setLoggedIn(true);\n              history.push('/');\n            }\n          })\n      }\n    }\n  },\n    [history, setLoggedIn, setCurrentUserEmail]\n  )\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    // console.log(token);\n    if (token) {\n      handleTokenCheck();\n    }\n  }, [handleTokenCheck]);\n\n  function handleLogin(values) {\n    if (!values.email || !values.password) {\n      return;\n    }\n    auth.authorize(values)\n      .then((data) => {\n        if (data) {\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleRegister(values, resetForm) {\n    auth.register(values)\n      .then((res) => {\n        if (res) {\n          handleTooltipOpen();\n          setTooltipMessage('Вы успешно зарегистрировались!');\n          setTooltipType('positive');\n          history.push('/sign-in');\n          resetForm();\n        }\n        else {\n          setTooltipMessage('Что-то пошло не так! Попробуйте ещё раз.');\n          setTooltipType('negative');\n          handleTooltipOpen();\n        }\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser} >\n      <Header\n        loggedIn={loggedIn}\n        logOut={handleLogOut}\n        userEmail={currentUserEmail}\n      />\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Register\n            onTooltipOpen={handleTooltipOpen}\n            message={setTooltipMessage}\n            type={setTooltipType}\n            handleRegister={handleRegister}\n          />\n        </Route>\n        <Route path=\"/sign-in\">\n          <Login\n            handleLogin={handleLogin}\n          />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          component={Main}\n          loggedIn={loggedIn}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onImgClick={handleCardClick}\n          isCardsLoading={isCardsLoading}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDeleteReq}\n          cards={cards}\n        />\n      </Switch>\n      <Footer />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        onClick={handleOverlayClick}\n        isUserSaving={isUserSaving}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        onClick={handleOverlayClick}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        onClick={handleOverlayClick}\n        isPlaceAdding={isPlaceAdding}\n      />\n      <DeleteCardPopup\n        isOpen={isDelCardPopupOpen}\n        onClose={closeAllPopups}\n        handleSubmit={handleCardDelete}\n        onClick={handleOverlayClick}\n        isCardDeleting={isCardDeleting}\n      />\n      <ImagePopup\n        card={selectedCard}\n        isOpen={isCardPopupOpen}\n        onClose={closeAllPopups}\n        onClick={handleOverlayClick}\n      />\n      <InfoTooltip\n        type={tooltipType}\n        isOpen={isInfoTooltipPopupOpen}\n        onClose={closeAllPopups}\n        onClick={handleOverlayClick}\n        message={tooltipMessage}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}